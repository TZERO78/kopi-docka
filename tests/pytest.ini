[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers for test categorization
markers =
    unit: Fast unit tests with mocks
    integration: Slow integration tests with real interactions
    requires_docker: Tests that need Docker daemon running
    requires_root: Tests that need root/sudo access
    slow: Tests that take more than 1 second

# Output and reporting
addopts = 
    -ra
    --strict-markers
    --tb=short
    --maxfail=5
    -v

# Coverage options (when using --cov)
# addopts = --cov=kopi_docka --cov-report=html --cov-report=term-missing

# Ignore warnings from dependencies
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::FutureWarning

# Minimum Python version
minversion = 7.0

# Console output options
console_output_style = progress

# Test execution order
# Run failed tests first
# --failed-first can be added to addopts for this

# Parallel execution (install pytest-xdist)
# addopts = -n auto
